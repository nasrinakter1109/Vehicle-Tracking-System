{"version":3,"file":"ngx-tour-ng-bootstrap.umd.js.map","sources":["ng://ngx-tour-ng-bootstrap/lib/ng-bootstrap-tour.service.ts","ng://ngx-tour-ng-bootstrap/lib/tour-step-template.service.ts","ng://ngx-tour-ng-bootstrap/lib/tour-anchor.directive.ts","ng://ngx-tour-ng-bootstrap/lib/tour-step-template.component.ts","ng://ngx-tour-ng-bootstrap/lib/ng-bootstrap.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { TourService } from 'ngx-tour-core';\n\nimport { INgbStepOption } from './step-option.interface';\n\n@Injectable()\nexport class NgbTourService extends TourService<INgbStepOption> {}\n","import { Injectable, TemplateRef } from '@angular/core';\n\n@Injectable()\nexport class TourStepTemplateService {\n  public template: TemplateRef<{content: string}>;\n}\n","import { Directive, ElementRef, Host, HostBinding, Input, OnDestroy, OnInit } from '@angular/core';\nimport { NgbPopover, Placement } from '@ng-bootstrap/ng-bootstrap';\nimport { TourAnchorDirective } from 'ngx-tour-core';\nimport withinviewport from 'withinviewport';\n\nimport { NgbTourService } from './ng-bootstrap-tour.service';\nimport { INgbStepOption } from './step-option.interface';\nimport { TourStepTemplateService } from './tour-step-template.service';\n\n\n@Directive({ selector: '[tourAnchor]' })\nexport class TourAnchorNgBootstrapPopoverDirective extends NgbPopover { }\n\n@Directive({\n  selector: '[tourAnchor]',\n})\nexport class TourAnchorNgBootstrapDirective implements OnInit, OnDestroy, TourAnchorDirective {\n  @Input() public tourAnchor: string;\n\n  @HostBinding('class.touranchor--is-active')\n  public isActive: boolean;\n\n  constructor(\n    private tourService: NgbTourService,\n    private tourStepTemplate: TourStepTemplateService,\n    private element: ElementRef,\n    @Host() private popoverDirective: TourAnchorNgBootstrapPopoverDirective,\n  ) {\n\n    this.popoverDirective.toggle = () => { };\n  }\n\n  public ngOnInit(): void {\n    this.tourService.register(this.tourAnchor, this);\n  }\n\n  public ngOnDestroy(): void {\n    this.tourService.unregister(this.tourAnchor);\n  }\n\n  public showTourStep(step: INgbStepOption): void {\n    this.isActive = true;\n    this.popoverDirective.ngbPopover = this.tourStepTemplate.template;\n    this.popoverDirective.popoverTitle = step.title;\n    this.popoverDirective.container =  'body';\n    this.popoverDirective.placement = <Placement>(step.placement || 'top')\n      .replace('before', 'left').replace('after', 'right')\n      .replace('below', 'bottom').replace('above', 'top');\n    step.prevBtnTitle = step.prevBtnTitle || 'Prev';\n    step.nextBtnTitle = step.nextBtnTitle || 'Next';\n    step.endBtnTitle = step.endBtnTitle || 'End';\n\n    this.popoverDirective.open({ step });\n    if (!step.preventScrolling) {\n      if (!withinviewport(this.element.nativeElement, { sides: 'bottom' })) {\n        (<HTMLElement>this.element.nativeElement).scrollIntoView(false);\n      } else if (!withinviewport(this.element.nativeElement, { sides: 'left top right' })) {\n        (<HTMLElement>this.element.nativeElement).scrollIntoView(true);\n      }\n    }\n  }\n\n  public hideTourStep(): void {\n    this.isActive = false;\n    this.popoverDirective.close();\n  }\n}\n","import { TourHotkeyListenerComponent, IStepOption } from 'ngx-tour-core';\nimport { TourStepTemplateService } from './tour-step-template.service';\nimport { Component, TemplateRef, ViewChild, AfterContentInit, ViewEncapsulation, Input, ContentChild } from '@angular/core';\nimport { NgbTourService } from './ng-bootstrap-tour.service';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'tour-step-template',\n  template: `\n    <ng-template #tourStep let-step=\"step\">\n      <p class=\"tour-step-content\">{{step?.content}}</p>\n      <div class=\"tour-step-navigation\">\n        <button *ngIf=\"tourService.hasPrev(step)\" class=\"btn btn-sm btn-default\" (click)=\"tourService.prev()\">Â« {{step?.prevBtnTitle}}</button>\n        <button *ngIf=\"tourService.hasNext(step)\" class=\"btn btn-sm btn-default\" (click)=\"tourService.next()\">{{step?.nextBtnTitle}} Â»</button>\n        <button class=\"btn btn-sm btn-default\" (click)=\"tourService.end()\">{{step?.endBtnTitle}}</button>\n      </div>\n    </ng-template>\n  `,\n})\nexport class TourStepTemplateComponent extends TourHotkeyListenerComponent implements AfterContentInit {\n  @ViewChild('tourStep', { read: TemplateRef }) public defaultTourStepTemplate: TemplateRef<any>;\n\n  @Input()\n  @ContentChild(TemplateRef)\n  public stepTemplate: TemplateRef<{ step: IStepOption }>;\n\n  constructor(private tourStepTemplateService: TourStepTemplateService, public tourService: NgbTourService) {\n    super(tourService);\n  }\n\n  public ngAfterContentInit(): void {\n    this.tourStepTemplateService.template = this.stepTemplate || this.defaultTourStepTemplate;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { NgbPopoverModule } from '@ng-bootstrap/ng-bootstrap';\nimport { TourModule } from 'ngx-tour-core';\n\nimport { NgbTourService } from './ng-bootstrap-tour.service';\nimport { TourAnchorNgBootstrapDirective, TourAnchorNgBootstrapPopoverDirective } from './tour-anchor.directive';\nimport { TourStepTemplateComponent } from './tour-step-template.component';\nimport { TourStepTemplateService } from './tour-step-template.service';\n\nexport { TourAnchorNgBootstrapDirective, TourAnchorNgBootstrapPopoverDirective, TourStepTemplateComponent, NgbTourService };\n\n@NgModule({\n  declarations: [TourAnchorNgBootstrapDirective, TourAnchorNgBootstrapPopoverDirective, TourStepTemplateComponent],\n  exports: [TourAnchorNgBootstrapDirective, TourAnchorNgBootstrapPopoverDirective, TourStepTemplateComponent],\n  imports: [CommonModule, NgbPopoverModule.forRoot()],\n})\nexport class TourNgBootstrapModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: TourNgBootstrapModule,\n      providers: [\n        TourStepTemplateService,\n        ...TourModule.forRoot().providers,\n        NgbTourService\n      ],\n    };\n  }\n}\n"],"names":["tslib_1.__extends","Injectable","TourService","Directive","NgbPopover","ElementRef","Host","Input","HostBinding","Component","ViewEncapsulation","ViewChild","TemplateRef","ContentChild","TourHotkeyListenerComponent","TourModule","NgModule","CommonModule","NgbPopoverModule"],"mappings":"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"}
