!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/animations"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-trend",["exports","@angular/animations","@angular/core","@angular/common"],n):n(t["ngx-trend"]={},t.ng.animations,t.ng.core,t.ng.common)}(this,function(t,n,e,a){"use strict";function h(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var a,i,r=e.call(t),o=[];try{for(;(void 0===n||0<n--)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(e=r["return"])&&e.call(r)}finally{if(i)throw i.error}}return o}function d(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(h(arguments[n]));return t}function u(t,n,e,a,i){return void 0===a&&(a=0),void 0===i&&(i=1),n===e?a:a+(t-n)*(i-a)/(e-n)}function x(t,n,e){var a=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)),i=(t.x-n.x)/a,r=(t.y-n.y)/a;return{x:n.x+i*e,y:n.y+r*e}}var v=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))};var i=function(){function t(){this.autoDraw=!1,this.autoDrawDuration=2e3,this.autoDrawEasing="ease",this.padding=8,this.radius=10,this.stroke="black",this.strokeLinecap="",this.strokeWidth=1,this.gradient=[],this.svgWidth="100%",this.svgHeight="25%",this.animationState="",this.id=Math.round(Math.random()*Math.pow(10,16)),this.gradientId="ngx-trend-vertical-gradient-"+this.id}return t.prototype.ngOnChanges=function(){var e=this;if(this.data&&!(this.data.length<2)){var t=this.data.map(function(t){return"number"==typeof t?t:t.value}),n=this.width||300,a=this.height||75;this.svgWidth=this.width||"100%",this.svgHeight=this.height||"25%",this.viewBox="0 0 "+n+" "+a;var i=location.href.split(location.hash||"#")[0];this.pathStroke=this.gradient&&this.gradient.length?"url('"+i+"#"+this.gradientId+"')":undefined,this.gradientTrimmed=this.gradient.slice().reverse().map(function(t,n){return{idx:n,stopColor:t,offset:u(n,0,e.gradient.length-1||1)}});var r=function o(t,e,a,i,r){var o={min:0,max:t.length-1},s={min:Math.min.apply(Math,d(t)),max:Math.max.apply(Math,d(t))},n=t.map(function(t,n){return{x:u(n,o.min,o.max,e,a),y:u(t,s.min,s.max,i,r)}});return s.min===s.max&&(n[0].y+=1e-4),n}(t,this.padding,n-this.padding,a-this.padding,this.padding);this.autoDraw&&"active"!==this.animationState&&(this.animationState="inactive",setTimeout(function(){e.lineLength=e.pathEl.nativeElement.getTotalLength(),e.animationState="active"})),this.d=this.smooth?function s(t,c){var n=h(t),f=n[0],m=n.slice(1);return m.reduce(function(t,n,e){var a,i,r,o=m[e+1],s=m[e-1]||f,h=o&&(i=n,r=o,((a=s).y-i.y)*(a.x-r.x)==(a.y-r.y)*(a.x-i.x));if(!o||h)return t+"\nL "+n.x+","+n.y;var d=v(s,n),u=v(o,n),p=Math.min(d,u),g=p/2<c?p/2:c,l=x(s,n,g),y=x(o,n,g);return[t,"L "+l.x+","+l.y,"S "+n.x+","+n.y+" "+y.x+","+y.y].join("\n")},"M "+f.x+","+f.y)}(r,this.radius):r.reduce(function(t,n,e){return t+(0===e?"M":"L")+" "+n.x+","+n.y+"\n"},"")}},t.decorators=[{type:e.Component,args:[{selector:"ngx-trend",template:'\n  <svg *ngIf="data && data.length >= 2"\n    [attr.width]="svgWidth"\n    [attr.height]="svgHeight"\n    [attr.stroke]="stroke"\n    [attr.stroke-width]="strokeWidth"\n    [attr.stroke-linecap]="strokeLinecap"\n    [attr.viewBox]="viewBox"\n    [attr.preserveAspectRatio]="preserveAspectRatio"\n  >\n    <defs *ngIf="gradient && gradient.length">\n      <linearGradient [attr.id]="gradientId" x1="0%" y1="0%" x2="0%" y2="100%">\n        <stop\n          *ngFor="let g of gradientTrimmed;"\n          [attr.key]="g.idx"\n          [attr.offset]="g.offset"\n          [attr.stop-color]="g.stopColor"\n        />\n      </linearGradient>\n    </defs>\n    <path fill="none" #pathEl\n      [attr.stroke]="pathStroke" [attr.d]="d"\n      [@pathAnimaiton]="{\n        value: animationState,\n        params: {\n          autoDrawDuration: autoDrawDuration,\n          autoDrawEasing: autoDrawEasing,\n          lineLength: lineLength\n        }\n      }" />\n  </svg>\n  ',animations:[n.trigger("pathAnimaiton",[n.state("inactive",n.style({display:"none"})),n.transition("* => active",[n.style({display:"initial"}),n.animate("{{ autoDrawDuration }}ms {{ autoDrawEasing }}",n.keyframes([n.style({"stroke-dasharray":"{{ lineLength }}px","stroke-dashoffset":"{{ lineLength }}px"}),n.style({"stroke-dasharray":"{{ lineLength }}px","stroke-dashoffset":0})])),n.style({"stroke-dashoffset":"","stroke-dasharray":""})])])]}]}],t.ctorParameters=function(){return[]},t.propDecorators={data:[{type:e.Input}],smooth:[{type:e.Input}],autoDraw:[{type:e.Input}],autoDrawDuration:[{type:e.Input}],autoDrawEasing:[{type:e.Input}],width:[{type:e.Input}],height:[{type:e.Input}],padding:[{type:e.Input}],radius:[{type:e.Input}],stroke:[{type:e.Input}],strokeLinecap:[{type:e.Input}],strokeWidth:[{type:e.Input}],gradient:[{type:e.Input}],preserveAspectRatio:[{type:e.Input}],pathEl:[{type:e.ViewChild,args:["pathEl"]}]},t}(),r=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.CommonModule],exports:[i],declarations:[i]}]}],t}();t.TrendComponent=i,t.TrendModule=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-trend.umd.min.js.map